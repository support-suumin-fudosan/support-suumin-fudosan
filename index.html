<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ã”ç›¸è«‡ãƒ•ã‚©ãƒ¼ãƒ </title>
  <meta name="description" content="ãŠéƒ¨å±‹æ¢ã—ã®ã”å¸Œæœ›æ¡ä»¶ã‚’1åˆ†ã»ã©ã§å…¥åŠ›ã§ãã‚‹ç›¸è«‡ãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚" />

  <style>
    :root{
      --bg: #f7faf8;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #6b7280;
      --line: #e5e7eb;
      --accent: #1f9d63;
      --accent-2: #0f7a4a;
      --accent-soft: #e7f7ef;
      --danger: #dc2626;
      --shadow: 0 10px 28px rgba(2, 24, 12, 0.08);
      --radius-lg: 16px;
      --radius-md: 10px;
      --radius-sm: 8px;
    }

    *{ box-sizing: border-box; }

    html, body{
      width: 100%;
      max-width: 100%;
      overflow-x: hidden;
    }

    html, body{
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Segoe UI", sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 500px at 85% -10%, var(--accent-soft), transparent 60%),
        radial-gradient(900px 500px at -10% 10%, #f0fbf5, transparent 55%),
        var(--bg);
    }

    .page{
      min-height: 100dvh;
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: 20px;
      overflow-x: hidden;
    }

    header{
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(10px);
      background: rgba(247, 250, 248, 0.8);
      border-bottom: 1px solid rgba(0,0,0,0.04);
    }

    .header-inner{
      max-width: 920px;
      margin: 0 auto;
      padding: 16px 18px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .header-form{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      width: 100%;
      min-width: 0;
    }

    .header-thanks{
      display: none;
      width: 100%;
      justify-content: center;
      align-items: center;
    }
    .thanks-title{
      font-weight: 800;
      letter-spacing: 0.02em;
      font-size: 16.5px;
      color: #0f172a;
      padding: 6px 10px;
      border-radius: 999px;
      background: #ffffff;
      border: 1px solid rgba(31,157,99,0.18);
      box-shadow: 0 6px 14px rgba(2, 24, 12, 0.06);
    }

    .brand{
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      letter-spacing: 0.02em;
      min-width: 0;
    }

    /* ã”ç›¸è«‡ãƒ•ã‚©ãƒ¼ãƒ å·¦ã‚¢ã‚¤ã‚³ãƒ³ï¼šè–„ã„ç¶ºéº—ãªç·‘ */
    .brand-icon{
      width: 32px;
      height: 32px;
      border-radius: 10px;
      object-fit: cover;
      flex: 0 0 32px;
      background: linear-gradient(135deg, #e3f8f0, #f6fffb);
      box-shadow:
        0 2px 8px rgba(2, 24, 12, 0.12),
        inset 0 0 0 1px rgba(255,255,255,0.7);
      image-rendering: auto;
    }

    .brand-badge{
      width: 32px;
      height: 32px;
      border-radius: 10px;
      background: linear-gradient(135deg, #dff7ea, #f5fffb);
      border: 1px solid rgba(31,157,99,0.20);
      box-shadow: 0 2px 6px rgba(15,23,42,0.12);
      display: none;
    }

    .brand-license{
      display: block;
      font-size: 10px;
      color: var(--muted);
      margin-top: 2px;
      letter-spacing: 0.02em;
    }

    .pill-note{
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #fff;
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 11px;
      color: var(--muted);
      margin-top: 8px;
      white-space: nowrap;
      flex: 0 0 auto;
    }

    .container{
      width: 100%;
      max-width: 920px;
      margin: 0 auto 24px;
      padding: 0 4vw;
    }
    @media (min-width: 920px){
      .container{ padding: 0 18px; }
    }

    .hero{
      background: linear-gradient(135deg, #ffffff, #ffffff 55%, var(--accent-soft));
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      padding: 26px 22px 22px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .hero::after{
      content: "";
      position: absolute;
      right: -120px;
      top: -140px;
      width: 320px;
      height: 320px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, rgba(31,157,99,0.18), transparent 65%);
      pointer-events: none;
    }

    .hero-head{
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .hero .meta{
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      background: var(--accent-soft);
      border: 1px solid rgba(31,157,99,0.18);
      border-radius: 999px;
      font-size: 12px;
      color: var(--accent-2);
      font-weight: 600;
      margin-left: -2px;
      transform: translateY(-2px);
      width: fit-content;
      max-width: 100%;
    }

    .hero h1{
      margin: 0 0 2px;
      font-size: clamp(24px, 3.6vw, 31px);
      letter-spacing: 0.01em;
    }

    .hero p{
      margin: 0 0 6px;
      color: var(--muted);
      line-height: 1.6;
    }

    form{
      margin-top: 18px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      padding: 10px 0 4px;
    }

    .section{
      padding: 18px 22px 6px;
      border-top: 1px dashed rgba(0,0,0,0.06);
    }
    .section:first-child{ border-top: none; }

    /* ã”é€£çµ¡å…ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€Œè–„ã„ç‚¹ç·šã€ */
    .section.contact-section{
      border-top: 1px dotted rgba(0,0,0,0.14);
      padding-top: 16px;
    }

    .section-title{
      display: flex;
      align-items: baseline;
      gap: 8px;
      margin: 0 0 12px;
      font-size: 15px;
      font-weight: 700;
    }
    .section-title .req{
      color: var(--danger);
      font-size: 12px;
      font-weight: 700;
    }
    .section-sub{
      margin: -6px 0 12px;
      font-size: 12px;
      color: var(--muted);
    }

    .field{
      display: grid;
      gap: 8px;
      margin-bottom: 14px;
      min-width: 0;
    }

    input[type="text"],
    input[type="tel"],
    input[type="number"],
    select,
    textarea{
      width: 100%;
      border: 1px solid var(--line);
      border-radius: var(--radius-md);
      padding: 12px 12px;
      font-size: 16px;
      outline: none;
      background: #fff;
      transition: border .15s ease, box-shadow .15s ease, background .15s ease;
      max-width: 100%;
    }
    textarea{
      min-height: 110px;
      resize: vertical;
    }

    input::placeholder, textarea::placeholder{
      color: #9aa3af;
    }

    input:focus, select:focus, textarea:focus{
      border-color: rgba(31,157,99,0.55);
      box-shadow: 0 0 0 4px rgba(31,157,99,0.12);
      background: #fcfffd;
    }

    .grid-2{
      display: grid;
      gap: 16px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 720px){
      .grid-2{ grid-template-columns: 1fr 1fr; }
    }

    .checks{
      display: grid;
      gap: 10px 14px;
      grid-template-columns: 1fr 1fr;
    }
    @media (min-width: 720px){
      .checks{
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .check-item{
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 10px;
      border: 1px solid var(--line);
      border-radius: var(--radius-sm);
      background: #fff;
      transition: border .15s ease, background .15s ease, transform .08s ease;
      min-width: 0;
    }
    .check-item:hover{
      border-color: rgba(31,157,99,0.35);
      background: #fbfffd;
    }
    .check-item:active{
      transform: translateY(1px);
    }

    input[type="checkbox"]{
      width: 18px;
      height: 18px;
      accent-color: var(--accent);
      flex: 0 0 18px;
    }

    .hint{
      font-size: 11.5px;
      color: var(--muted);
    }

    .actions{
      padding: 18px 22px 22px;
      display: grid;
      gap: 10px;
    }

    .btn{
      border: none;
      border-radius: 14px;
      padding: 14px 14px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: transform .08s ease, filter .15s ease, box-shadow .15s ease;
    }
    .btn-primary{
      background: linear-gradient(135deg, var(--accent), #39d489);
      color: white;
      box-shadow: 0 10px 18px rgba(31,157,99,0.22);
    }
    .btn-primary:hover{
      filter: brightness(1.02);
    }
    .btn-primary:active{
      transform: translateY(1px);
    }

    .btn-ghost{
      background: #fff;
      border: 1px solid var(--line);
      color: #111827;
    }

    .error{
      color: var(--danger);
      font-size: 11.5px;
      font-weight: 600;
      display: none;
    }

    footer{
      padding: 10px 18px 26px;
      color: var(--muted);
      font-size: 11px;
      text-align: center;
    }

    .other-reason-wrap{
      margin-top: 10px;
      display: none;
    }

    .thankyou-stage{
      position: relative;
      min-height: 62vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding-top: 10px;
    }
    @media (max-height: 700px){
      .thankyou-stage{ min-height: 56vh; }
    }

    .thankyou{
      width: 100%;
      margin-top: 10px;
      background: linear-gradient(135deg, #ffffff, #ffffff 55%, var(--accent-soft));
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      padding: 34px 22px 26px;
      box-shadow: var(--shadow);
      text-align: center;
    }

    @keyframes fadeInSoft {
      from { opacity: 0; transform: translateY(4px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .fade-in{
      animation: fadeInSoft 200ms ease-out;
    }

    .done-badge{
      width: 54px;
      height: 54px;
      border-radius: 50%;
      margin: 0 auto 10px;
      background: linear-gradient(135deg, #d6f5e3, #ecfbf3);
      border: 1px solid rgba(31,157,99,0.22);
      display: grid;
      place-items: center;
      box-shadow: 0 8px 16px rgba(2, 24, 12, 0.06);
    }
    .done-badge svg{
      width: 26px;
      height: 26px;
      display: block;
    }

    .done-kicker{
      font-size: 11.5px;
      font-weight: 700;
      color: var(--accent-2);
      letter-spacing: 0.08em;
      margin-bottom: 2px;
    }

    .thankyou h2{
      margin: 0 0 12px;
      font-size: clamp(22px, 3.2vw, 26px);
      letter-spacing: 0.01em;
    }

    .thankyou-body{
      color: var(--muted);
      line-height: 1.7;
      font-size: 14.5px;
      margin: 0 0 14px;
    }

    .thankyou-secondary{
      font-size: 12.5px;
      color: #556070;
      font-weight: 600;
      margin: 0;
    }

    .thankyou-footnote{
      text-align: center;
      margin-top: 10px;
      font-size: 11px;
      color: var(--muted);
    }
  </style>
</head>

<body>
  <div class="page">
    <header>
      <div class="header-inner">
        <div class="header-form" id="headerForm">
          <div class="brand">
            <img
              class="brand-icon"
              src="YOUR_SUUMIN_ICON_URL"
              alt="ãŠéƒ¨å±‹æ¢ã—ã®ã‚¹ãƒ¼ãƒŸãƒ³"
              onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-block';"
            />
            <span class="brand-badge" aria-hidden="true"></span>

            <div>
              <div>ã”ç›¸è«‡ãƒ•ã‚©ãƒ¼ãƒ </div>
              <span class="brand-license">æ±äº¬éƒ½çŸ¥äº‹å…è¨±ï¼ˆ2ï¼‰ç¬¬101896å·</span>
            </div>
          </div>
          <div class="pill-note">ç´„1åˆ†ã§å…¥åŠ›</div>
        </div>

        <div class="header-thanks" id="headerThanks">
          <div class="thanks-title">ãŠéƒ¨å±‹æ¢ã—ã®ã‚¹ãƒ¼ãƒŸãƒ³</div>
        </div>
      </div>
    </header>

    <main class="container">
      <section class="hero" id="heroSection">
        <div class="hero-head">
          <span class="meta">å¸Œæœ›æ¡ä»¶ã‚’ã”å…¥åŠ›ãã ã•ã„</span>
          <h1>ã‹ã‚“ãŸã‚“1åˆ†å…¥åŠ›ã§<br>ãŠéƒ¨å±‹æ¢ã—ã‚’ã‚¹ã‚¿ãƒ¼ãƒˆ</h1>
          <p>
            ã”å¸Œæœ›æ¡ä»¶ã‚’ã”å…¥åŠ›å¾Œã€å†…å®¹ã‚’ç¢ºèªã®ã†ãˆã€æ‹…å½“è€…ã‚ˆã‚Šæ¡ä»¶ã«åˆã†ãŠéƒ¨å±‹ã‚’ã”ææ¡ˆã—ã¾ã™
          </p>
        </div>
      </section>

      <div class="thankyou-stage" id="thankYouStage" style="display:none;">
        <div style="width:100%;">
          <section class="thankyou" id="thankYouSection">
            <div class="done-badge" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="img" aria-label="å®Œäº†">
                <path fill="#ffffff" d="M9.0 16.2l-3.5-3.5a1 1 0 0 1 1.4-1.4l2.8 2.8 7.3-7.3a1 1 0 1 1 1.4 1.4l-8.0 8.0a1 1 0 0 1-1.4 0z"/>
              </svg>
            </div>

            <div class="done-kicker">é€ä¿¡å®Œäº†</div>

            <h2>ã”å›ç­”ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ˜Œ</h2>

            <p class="thankyou-body">
              ã„ãŸã ã„ãŸå†…å®¹ã‚’ã‚‚ã¨ã«ã€æœªå…¬é–‹ç‰©ä»¶ã‚‚å«ã‚ã¦<br>
              æ¡ä»¶ã«åˆã†ãŠéƒ¨å±‹ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚<br>
              ç„¡ç†ãªã”ææ¡ˆã¯ã„ãŸã—ã¾ã›ã‚“ã®ã§ã€<br>
              ã”å®‰å¿ƒãã ã•ã„ã¾ã›ã€‚
            </p>

            <p class="thankyou-secondary">
              æ°—ã«ãªã‚‹ç‚¹ã‚„ã”å¸Œæœ›ãŒã‚ã‚Œã°ã€<br>
              ã„ã¤ã§ã‚‚é æ…®ãªããŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚
            </p>
          </section>

          <div class="thankyou-footnote">
            é€ä¿¡å†…å®¹ã‚’ç¢ºèªå¾Œã€ã§ãã‚‹ã ã‘ã‚¹ãƒ ãƒ¼ã‚ºã«ã”é€£çµ¡ã„ãŸã—ã¾ã™ã€‚
          </div>
        </div>
      </div>

      <form id="consultForm" novalidate>
        <div class="section">
          <div class="field">
            <div class="section-title">LINEãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å <span class="req">å¿…é ˆ</span></div>
            <input id="name" name="name" type="text" required />
            <div class="error" data-error-for="name">LINEãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</div>
          </div>

          <div class="field">
            <div class="section-title">ã”è·æ¥­ <span class="req">å¿…é ˆ</span></div>
            <select id="occupation" name="occupation" required>
              <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
              <option>ä¼šç¤¾å“¡</option>
              <option>å…¬å‹™å“¡</option>
              <option>æ´¾é£ãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ</option>
              <option>å€‹äººäº‹æ¥­ä¸»ãƒ»è‡ªå–¶æ¥­</option>
              <option>çµŒå–¶è€…ãƒ»å½¹å“¡</option>
              <option>å¤œè·</option>
              <option>å­¦ç”Ÿ</option>
              <option>ç„¡è·ãƒ»ãã®ä»–</option>
            </select>
            <div class="error" data-error-for="occupation">ã”è·æ¥­ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</div>
          </div>

          <div class="grid-2">
            <div class="field">
              <div class="section-title">ã”å…¥å±…æ™‚æœŸ <span class="req">å¿…é ˆ</span></div>
              <select id="moveIn" name="moveIn" required>
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                <option>1ãƒ¶æœˆä»¥å†…</option>
                <option>1ã€œ2ãƒ¶æœˆä»¥å†…</option>
                <option>2ã€œ3ãƒ¶æœˆä»¥å†…</option>
                <option>ãã‚Œä»¥ä¸Šå…ˆ</option>
                <option>æœªå®š</option>
              </select>
              <div class="error" data-error-for="moveIn">ã”å…¥å±…æ™‚æœŸã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</div>
            </div>
          </div>
        </div>

        <div class="section">
          <div class="section-title">ä½ã¿æ›¿ãˆã®ç†ç”± <span class="req">å¿…é ˆ</span></div>
          <div class="section-sub">ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</div>

          <div class="checks" role="group" aria-label="ä½ã¿æ›¿ãˆã®ç†ç”±">
            <label class="check-item"><input type="checkbox" name="reasons" value="è»¢å‹¤ãƒ»è»¢è·" />è»¢å‹¤ãƒ»è»¢è·</label>
            <label class="check-item"><input type="checkbox" name="reasons" value="çµå©šãƒ»åŒæ£²" />çµå©šãƒ»åŒæ£²</label>
            <label class="check-item"><input type="checkbox" name="reasons" value="å¥‘ç´„æ›´æ–°" />å¥‘ç´„æ›´æ–°</label>
            <label class="check-item"><input type="checkbox" name="reasons" value="ç‹¬ç«‹" />ç‹¬ç«‹</label>
            <label class="check-item"><input type="checkbox" name="reasons" value="æ°—åˆ†è»¢æ›" />æ°—åˆ†è»¢æ›</label>
            <label class="check-item"><input type="checkbox" name="reasons" value="ãã®ä»–" id="reasonOtherChk" />ãã®ä»–</label>
          </div>

          <div class="other-reason-wrap" id="otherReasonWrap">
            <div class="field" style="margin-top:12px;">
              <textarea
                id="reasonOtherText"
                name="reasonOtherText"
                placeholder="ãã®ä»–ã®ç†ç”±ã‚’ã”è¨˜å…¥ãã ã•ã„ï¼ˆä»»æ„ï¼‰"
              ></textarea>
            </div>
          </div>

          <div class="error" data-error-for="reasons">ä½ã¿æ›¿ãˆç†ç”±ã‚’1ã¤ä»¥ä¸Šé¸æŠã—ã¦ãã ã•ã„ã€‚</div>
        </div>

        <div class="section">
          <div class="field">
            <div class="section-title">å¸Œæœ›ã‚¨ãƒªã‚¢ <span class="req">å¿…é ˆ</span></div>
            <input
              id="area"
              name="area"
              type="text"
              placeholder="ä¾‹ï¼šä¸­é‡ / æ–°å®¿ / ä¸‰é·¹ / å±±æ‰‹ç·šå†…å›ã‚Š ãªã©"
              required
            />
            <div class="hint">è¤‡æ•°ã‚¨ãƒªã‚¢OKã€‚å„ªå…ˆé †ä½ãŒã‚ã‚Œã°ä¸€ç·’ã«ã”å…¥åŠ›ãã ã•ã„ã€‚</div>
            <div class="error" data-error-for="area">å¸Œæœ›ã‚¨ãƒªã‚¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</div>
          </div>

          <div class="field">
            <div class="section-title">å¸Œæœ›ã®é–“å–ã‚Š <span class="req">å¿…é ˆ</span></div>
            <div class="section-sub">ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</div>
            <div class="checks" role="group" aria-label="å¸Œæœ›ã®é–“å–ã‚Š">
              <label class="check-item"><input type="checkbox" name="layouts" value="1R" />1R</label>
              <label class="check-item"><input type="checkbox" name="layouts" value="1K" />1K</label>
              <label class="check-item"><input type="checkbox" name="layouts" value="1DK" />1DK</label>
              <label class="check-item"><input type="checkbox" name="layouts" value="1LDK" />1LDK</label>
              <label class="check-item"><input type="checkbox" name="layouts" value="2LDK" />2LDK</label>
              <label class="check-item"><input type="checkbox" name="layouts" value="3LDK" />3LDK</label>
            </div>
            <div class="error" data-error-for="layouts">å¸Œæœ›ã®é–“å–ã‚Šã‚’1ã¤ä»¥ä¸Šé¸æŠã—ã¦ãã ã•ã„ã€‚</div>
          </div>

          <div class="grid-2">
            <div class="field">
              <div class="section-title">ãŠå®¶è³ƒã®ä¸Šé™ï¼ˆç®¡ç†è²»è¾¼ï¼‰ <span class="req">å¿…é ˆ</span></div>
              <input
                id="rentMax"
                name="rentMax"
                type="number"
                inputmode="decimal"
                step="0.1"
                min="0"
                placeholder="ä¾‹ï¼š12 / 13.5 / 15"
                required
              />
              <div class="hint">å˜ä½ã¯ã€Œä¸‡å††ã€ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚</div>
              <div class="error" data-error-for="rentMax">ãŠå®¶è³ƒã®ä¸Šé™ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</div>
            </div>

            <div class="field">
              <div class="section-title">ç¯‰å¹´æ•° <span class="hint">ä»»æ„</span></div>
              <select id="age" name="age">
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                <option>1å¹´ä»¥å†…</option>
                <option>3å¹´ä»¥å†…</option>
                <option>5å¹´ä»¥å†…</option>
                <option>7å¹´ä»¥å†…</option>
                <option>10å¹´ä»¥å†…</option>
                <option>15å¹´ä»¥å†…</option>
                <option>æŒ‡å®šã—ãªã„</option>
              </select>
            </div>
          </div>

          <div class="field">
            <div class="section-title">ã“ã ã‚ã‚Šæ¡ä»¶ <span class="hint">ä»»æ„</span></div>
            <textarea
              id="preferences"
              name="preferences"
              placeholder="ä¾‹ï¼š2éšä»¥ä¸Š/ãƒã‚¹ãƒˆã‚¤ãƒ¬åˆ¥/å®…é…BOX/è§’éƒ¨å±‹/ãƒšãƒƒãƒˆå¯/é§è»Šå ´æœ‰ãªã©"
            ></textarea>
          </div>

          <div class="field">
            <div class="section-title">ç‰©ä»¶ç•ªå· <span class="hint">ä»»æ„</span></div>
            <input
              id="propertyNo"
              name="propertyNo"
              type="text"
              placeholder="ä¾‹ï¼šA-001"
              autocomplete="off"
            />
            <div class="hint">TikTokã§æ°—ã«ãªã£ãŸãŠéƒ¨å±‹ãŒã‚ã‚Œã°ã”å…¥åŠ›ãã ã•ã„ã€‚</div>
          </div>
        </div>

        <div class="section contact-section">
          <div class="section-title">ã”é€£çµ¡å…ˆ</div>

          <div class="field">
            <div class="section-title">ãŠé›»è©±ç•ªå· <span class="hint">ä»»æ„</span></div>
            <input
              id="phone"
              name="phone"
              type="tel"
              inputmode="tel"
              placeholder="ä¾‹ï¼š09012345678"
              pattern="^[0-9-+ ]{9,15}$"
            />
            <div class="hint">ã‚ˆã‚Šã‚¹ãƒ ãƒ¼ã‚ºãªã”æ¡ˆå†…ãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚</div>
            <div class="error" data-error-for="phone">å…¥åŠ›ã™ã‚‹å ´åˆã¯æœ‰åŠ¹ãªãŠé›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</div>
          </div>
        </div>

        <div class="actions">
          <button class="btn btn-primary" type="submit">å›ç­”ã™ã‚‹</button>
          <button class="btn btn-ghost" type="reset">å…¥åŠ›ã‚’ãƒªã‚»ãƒƒãƒˆ</button>
          <div id="formMsg" class="hint"></div>
        </div>
      </form>
    </main>

    <footer></footer>
  </div>

  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

  <script>
    (function(){
      const EMAILJS_SERVICE_ID  = "service_sgac4or";
      const EMAILJS_TEMPLATE_ID = "template_v2ls78f";
      const EMAILJS_PUBLIC_KEY  = "QedlQxUXH2yDJJvjU";

      emailjs.init(EMAILJS_PUBLIC_KEY);

      const form = document.getElementById("consultForm");
      const msg = document.getElementById("formMsg");
      const hero = document.getElementById("heroSection");

      const thankYouStage = document.getElementById("thankYouStage");
      const thankYouSection = document.getElementById("thankYouSection");

      const headerForm = document.getElementById("headerForm");
      const headerThanks = document.getElementById("headerThanks");

      const reasonOtherChk = document.getElementById("reasonOtherChk");
      const otherReasonWrap = document.getElementById("otherReasonWrap");
      const reasonOtherText = document.getElementById("reasonOtherText");

      const showError = (name, on) => {
        const el = document.querySelector(`[data-error-for="${name}"]`);
        if(!el) return;
        el.style.display = on ? "block" : "none";
      };

      const getCheckedValues = (selector) => {
        return Array.from(document.querySelectorAll(selector))
          .filter(i => i.checked)
          .map(i => i.value);
      };

      const onlyDigits = (v) => (v || "").replace(/[^\d]/g, "");

      const isPhoneValidForSubmit = (raw) => {
        const d = onlyDigits(raw);
        if (!d) return true;
        return d.length === 10 || d.length === 11;
      };

      const validators = {
        name: () => form.name.value.trim().length > 0,
        occupation: () => !!form.occupation.value.trim(),
        moveIn: () => !!form.moveIn.value.trim(),
        reasons: () => getCheckedValues(`input[name="reasons"]`).length > 0,
        area: () => form.area.value.trim().length > 0,
        layouts: () => getCheckedValues(`input[name="layouts"]`).length > 0,
        rentMax: () => {
          const v = form.rentMax.value;
          return !(v === "" || Number(v) <= 0);
        },
        phone: () => isPhoneValidForSubmit(form.phone.value.trim())
      };

      const validateAll = () => {
        let ok = true;
        const keys = ["name","occupation","moveIn","reasons","area","layouts","rentMax","phone"];

        keys.forEach(k => showError(k, false));

        keys.forEach(k => {
          const pass = validators[k]();
          if (!pass) {
            showError(k, true);
            ok = false;
          }
        });
        return ok;
      };

      const syncOtherReasonUI = () => {
        const on = !!(reasonOtherChk && reasonOtherChk.checked);
        if (!otherReasonWrap) return;
        otherReasonWrap.style.display = on ? "block" : "none";
        if (!on && reasonOtherText) reasonOtherText.value = "";
      };

      if (reasonOtherChk) {
        reasonOtherChk.addEventListener("change", syncOtherReasonUI);
      }
      syncOtherReasonUI();

      const pad2 = (n) => String(n).padStart(2, "0");

      const formatDateTime = (iso) => {
        const d = iso ? new Date(iso) : new Date();
        if (Number.isNaN(d.getTime())) return "";
        const y = d.getFullYear();
        const m = pad2(d.getMonth() + 1);
        const day = pad2(d.getDate());
        const h = pad2(d.getHours());
        const min = pad2(d.getMinutes());
        const s = pad2(d.getSeconds());
        return `${y}-${m}-${day} ${h}:${min}:${s}`;
      };

      const clean = (s) => String(s ?? "").replace(/[\r\n]+/g, " ").trim();
      const toSlash = (v) => Array.isArray(v) ? v.join(" / ") : (v ?? "");

      const buildReasonsDisplay = (reasonsArr, otherDetail) => {
        if (!Array.isArray(reasonsArr) || reasonsArr.length === 0) return "";

        const hasOther = reasonsArr.includes("ãã®ä»–");
        const base = reasonsArr.filter(r => r !== "ãã®ä»–");

        let out = base.join(" / ");

        if (hasOther) {
          if (base.length > 0) {
            out += " ï¼ãã®ä»–ï¼š";
          } else {
            out = "ãã®ä»–ï¼š";
          }
          if (otherDetail) out += otherDetail;
        }

        return out;
      };

      const buildEmailParams = () => {
        const reasons = getCheckedValues(`input[name="reasons"]`);
        const layouts = getCheckedValues(`input[name="layouts"]`);
        const otherText = (reasonOtherChk && reasonOtherText && reasonOtherChk.checked)
          ? reasonOtherText.value.trim()
          : "";

        const profileName = clean(form.name.value.trim());

        return {
          submittedAt: formatDateTime(new Date().toISOString()),

          name: profileName,
          lineName: profileName,

          occupation: form.occupation.value.trim(),
          moveIn: form.moveIn.value.trim(),

          reasons: buildReasonsDisplay(reasons, otherText),
          reasonOtherDetail: otherText,

          area: clean(form.area.value.trim()),
          layouts: toSlash(layouts),
          rentMaxManYen: form.rentMax.value ? String(form.rentMax.value) : "",
          buildingAge: form.age.value.trim(),

          preferences: form.preferences.value.trim(),
          phone: form.phone.value.trim(),

          propertyNo: clean((form.propertyNo && form.propertyNo.value) ? form.propertyNo.value.trim() : ""),
          propertyNumber: clean((form.propertyNo && form.propertyNo.value) ? form.propertyNo.value.trim() : "")
        };
      };

      const sendViaEmailJS = async (params) => {
        return emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, params);
      };

      const showThankYouView = () => {
        try{
          if (document.activeElement && typeof document.activeElement.blur === "function") {
            document.activeElement.blur();
          }
        }catch(e){}

        if (hero) hero.style.display = "none";
        form.style.display = "none";

        if (thankYouStage) {
          thankYouStage.style.display = "flex";
        }

        if (thankYouSection) {
          thankYouSection.classList.remove("fade-in");
          void thankYouSection.offsetWidth;
          thankYouSection.classList.add("fade-in");
        }

        if (headerForm) headerForm.style.display = "none";
        if (headerThanks) headerThanks.style.display = "flex";

        window.scrollTo({ top: 0, behavior: "auto" });
      };

      const wireLiveClear = () => {
        form.name.addEventListener("input", () => {
          if (validators.name()) showError("name", false);
        });

        form.occupation.addEventListener("change", () => {
          if (validators.occupation()) showError("occupation", false);
        });

        form.moveIn.addEventListener("change", () => {
          if (validators.moveIn()) showError("moveIn", false);
        });

        form.area.addEventListener("input", () => {
          if (validators.area()) showError("area", false);
        });

        form.rentMax.addEventListener("input", () => {
          if (validators.rentMax()) showError("rentMax", false);
        });

        document.querySelectorAll(`input[name="reasons"]`).forEach(cb => {
          cb.addEventListener("change", () => {
            if (validators.reasons()) showError("reasons", false);
            if (cb === reasonOtherChk) syncOtherReasonUI();
          });
        });

        document.querySelectorAll(`input[name="layouts"]`).forEach(cb => {
          cb.addEventListener("change", () => {
            if (validators.layouts()) showError("layouts", false);
          });
        });

        form.phone.addEventListener("input", () => {
          if (validators.phone()) showError("phone", false);
        });

        form.phone.addEventListener("blur", () => {
          if (validators.phone()) showError("phone", false);
        });
      };

      wireLiveClear();

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        msg.textContent = "";

        const ok = validateAll();
        if (!ok) return;

        const submitBtn = form.querySelector('button[type="submit"]');
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.style.filter = "grayscale(0.15)";
        }

        msg.textContent = "é€ä¿¡ä¸­ã§ã™â€¦";

        try{
          const params = buildEmailParams();
          await sendViaEmailJS(params);

          msg.textContent = "é€ä¿¡ãŒå®Œäº†ã—ã¾ã—ãŸã€‚";
          showThankYouView();

        }catch(err){
          console.error("EmailJSé€ä¿¡å¤±æ•—", err);
          msg.textContent = "é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚é€šä¿¡ç’°å¢ƒã‚’ã”ç¢ºèªã®ã†ãˆã€å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚";
          alert("é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚é€šä¿¡ç’°å¢ƒã‚’ã”ç¢ºèªã®ã†ãˆã€å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚");
        }finally{
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.style.filter = "";
          }
        }
      });

      form.addEventListener("reset", () => {
        ["name","occupation","moveIn","reasons","area","layouts","rentMax","phone"]
          .forEach(k => showError(k, false));
        msg.textContent = "";

        if (reasonOtherText) reasonOtherText.value = "";
        if (reasonOtherChk) reasonOtherChk.checked = false;
        syncOtherReasonUI();
      });
    })();
  </script>
</body>
</html>
